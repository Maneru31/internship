# ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–í–µ—Ä—Å–∏—è:** MVP —Å –º–æ–∫–∞–º–∏
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–º–æ–∫-–æ—Ç–≤–µ—Ç—ã** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏–π. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–µ–∑ API –∫–ª—é—á–µ–π
- –†–∞–±–æ—Ç–∞—Ç—å –æ—Ñ—Ñ–ª–∞–π–Ω
- –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –±–µ–∑ –ª–∏–º–∏—Ç–æ–≤
- –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è LLM

```
User ‚Üí AIMoodScreen ‚Üí aiService.js ‚Üí [MOCK / LLM API] ‚Üí Response
                          ‚Üì
                   aiAffirmations.js (–º–æ–∫–∏)
```

### –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
internship/
‚îú‚îÄ‚îÄ mocks/
‚îÇ   ‚îî‚îÄ‚îÄ aiAffirmations.js      # –ú–æ–∫-–¥–∞–Ω–Ω—ã–µ (18+ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ aiService.js            # –°–µ—Ä–≤–∏—Å —Å –ª–æ–≥–∏–∫–æ–π (–≥–æ—Ç–æ–≤ –∫ LLM)
‚îî‚îÄ‚îÄ screens/
    ‚îî‚îÄ‚îÄ AIMoodScreen.js         # UI (–Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
```

## –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π LLM

### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–ì–æ—Ç–æ–≤–æ ‚úÖ)

- [x] –°–æ–∑–¥–∞–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º
- [x] –ú–æ–∫-–¥–∞–Ω–Ω—ã–µ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
- [x] –°–µ—Ä–≤–∏—Å aiService.js –≥–æ—Ç–æ–≤ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é
- [x] UI –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –§–∞–∑–∞ 2: –í—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ LLM

#### –í–∞—Ä–∏–∞–Ω—Ç A: OpenAI GPT-4 (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ü–ª—é—Å—ã:**
- –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- –°—Ç–∞–±–∏–ª—å–Ω–æ–µ API
- –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ú–∏–Ω—É—Å—ã:**
- –ü–ª–∞—Ç–Ω–æ ($0.03/1K tokens)
- –¢—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

**–ö–æ–¥ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**

```javascript
// services/aiService.js

import OpenAI from 'openai';

const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY,
});

async function callOpenAI(mood, options) {
  const response = await openai.chat.completions.create({
    model: 'gpt-4',
    messages: [
      {
        role: 'system',
        content: `–í—ã - –æ–ø—ã—Ç–Ω—ã–π –º–µ–¥–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –≥–∏–¥.
        –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–µ (3-4 –∞–±–∑–∞—Ü–∞), –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–µ –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏–∏
        –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ —Å —ç–º–æ–¥–∑–∏ –≤ –Ω–∞—á–∞–ª–µ.`
      },
      {
        role: 'user',
        content: `–°–æ–∑–¥–∞–π—Ç–µ –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏—é –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏: ${mood.label}`
      }
    ],
    max_tokens: 500,
    temperature: 0.7,
  });

  return response.choices[0].message.content;
}
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: Claude (Anthropic)

**–ü–ª—é—Å—ã:**
- –û—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- –•–æ—Ä–æ—à–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (200K tokens)
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–ú–∏–Ω—É—Å—ã:**
- –î–æ—Ä–æ–∂–µ —á–µ–º GPT-4
- –ú–µ–Ω—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤

**–ö–æ–¥ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**

```javascript
import Anthropic from '@anthropic-ai/sdk';

const anthropic = new Anthropic({
  apiKey: process.env.ANTHROPIC_API_KEY,
});

async function callClaude(mood, options) {
  const message = await anthropic.messages.create({
    model: 'claude-3-5-sonnet-20241022',
    max_tokens: 1024,
    messages: [{
      role: 'user',
      content: `–°–æ–∑–¥–∞–π—Ç–µ –º–µ–¥–∏—Ç–∞—Ü–∏–æ–Ω–Ω—É—é –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏—é –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞,
      –∫–æ—Ç–æ—Ä—ã–π —á—É–≤—Å—Ç–≤—É–µ—Ç —Å–µ–±—è ${mood.label.toLowerCase()}.`
    }],
  });

  return message.content[0].text;
}
```

#### –í–∞—Ä–∏–∞–Ω—Ç C: Google Gemini

**–ü–ª—é—Å—ã:**
- –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∫–≤–æ—Ç–∞
- –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å
- –•–æ—Ä–æ—à–µ–µ API

**–ú–∏–Ω—É—Å—ã:**
- –ö–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —Ö—É–∂–µ
- –ù–æ–≤–æ–µ API

#### –í–∞—Ä–∏–∞–Ω—Ç D: –õ–æ–∫–∞–ª—å–Ω–∞—è LLM (Ollama)

**–ü–ª—é—Å—ã:**
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ—Ñ–ª–∞–π–Ω
- –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å

**–ú–∏–Ω—É—Å—ã:**
- –¢—Ä–µ–±—É–µ—Ç –º–æ—â–Ω–æ–µ –∂–µ–ª–µ–∑–æ
- –ö–∞—á–µ—Å—Ç–≤–æ –Ω–∏–∂–µ —á–µ–º GPT-4
- –ù—É–∂–µ–Ω backend —Å–µ—Ä–≤–µ—Ä

### –§–∞–∑–∞ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –î–ª—è OpenAI
npm install openai

# –î–ª—è Claude
npm install @anthropic-ai/sdk

# –î–ª—è Google Gemini
npm install @google/generative-ai

# –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
npm install react-native-dotenv
```

### –§–∞–∑–∞ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# .env
OPENAI_API_KEY=sk-...
# –∏–ª–∏
ANTHROPIC_API_KEY=sk-ant-...
# –∏–ª–∏
GOOGLE_API_KEY=...

# –†–µ–∂–∏–º: 'mock' –∏–ª–∏ 'production'
AI_MODE=mock
```

–î–æ–±–∞–≤—å—Ç–µ –≤ `.gitignore`:
```
.env
.env.local
.env.production
```

### –§–∞–∑–∞ 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ aiService.js

```javascript
// services/aiService.js

import { getRandomAffirmation } from '../mocks/aiAffirmations';
import OpenAI from 'openai';
import { OPENAI_API_KEY, AI_MODE } from '@env';

const openai = new OpenAI({
  apiKey: OPENAI_API_KEY,
});

const AI_CONFIG = {
  mode: AI_MODE || 'mock', // 'mock' –∏–ª–∏ 'production'
  mockDelay: 2000,
  provider: 'openai', // 'openai', 'anthropic', 'google'
  model: 'gpt-4',
  maxTokens: 500,
  temperature: 0.7,
};

export async function generateAffirmation(mood, options = {}) {
  if (AI_CONFIG.mode === 'mock') {
    // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏
    await new Promise(resolve => setTimeout(resolve, AI_CONFIG.mockDelay));
    return getRandomAffirmation(mood.id, true);
  }

  // Production: –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–π LLM
  return await callLLM(mood, options);
}

async function callLLM(mood, options) {
  const prompt = buildPrompt(mood, options);

  try {
    const response = await openai.chat.completions.create({
      model: AI_CONFIG.model,
      messages: [
        {
          role: 'system',
          content: SYSTEM_PROMPT
        },
        {
          role: 'user',
          content: prompt
        }
      ],
      max_tokens: AI_CONFIG.maxTokens,
      temperature: AI_CONFIG.temperature,
    });

    return response.choices[0].message.content;
  } catch (error) {
    console.error('LLM API Error:', error);
    // Fallback –Ω–∞ –º–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–µ
    return getRandomAffirmation(mood.id, true);
  }
}

const SYSTEM_PROMPT = `–í—ã - –æ–ø—ã—Ç–Ω—ã–π –º–µ–¥–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –≥–∏–¥ –∏ –ø—Å–∏—Ö–æ–ª–æ–≥ —Å 20-–ª–µ—Ç–Ω–∏–º —Å—Ç–∞–∂–µ–º.

–í–∞—à–∞ –∑–∞–¥–∞—á–∞ - —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ, –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–µ –º–µ–¥–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏–∏
–Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ZenPulse.

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏—è–º:
- –î–ª–∏–Ω–∞: 3-4 –∞–±–∑–∞—Ü–∞
- –¢–æ–Ω: –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–π, –Ω–æ –Ω–µ —Å–ª–∞—â–∞–≤—ã–π
- –í–∫–ª—é—á–∏—Ç—å: –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: 1-2 —ç–º–æ–¥–∑–∏ –≤ –Ω–∞—á–∞–ª–µ
- –Ø–∑—ã–∫: —Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–π

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
1. –ü—Ä–∏–∑–Ω–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ü–µ—Ä–µ–æ—Å–º—ã—Å–ª–µ–Ω–∏–µ/–ø–æ–¥–¥–µ—Ä–∂–∫–∞
3. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (–¥—ã—Ö–∞–Ω–∏–µ, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è)
4. –ü–æ–∑–∏—Ç–∏–≤–Ω–æ–µ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ

–ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–∏—Ö –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏–π —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.`;

function buildPrompt(mood, options) {
  const timeOfDay = new Date().getHours();
  const timeContext = timeOfDay < 12 ? '—É—Ç—Ä–æ' : timeOfDay < 18 ? '–¥–µ–Ω—å' : '–≤–µ—á–µ—Ä';

  const moodDescriptions = {
    happy: '—Ä–∞–¥–æ—Å—Ç–Ω—ã–º –∏ —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–º',
    calm: '—Å–ø–æ–∫–æ–π–Ω—ã–º –∏ —É–º–∏—Ä–æ—Ç–≤–æ—Ä—ë–Ω–Ω—ã–º',
    stressed: '–≤ —Å—Ç—Ä–µ—Å—Å–µ –∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–∏',
  };

  return `–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é –º–µ–¥–∏—Ç–∞—Ü–∏–æ–Ω–Ω—É—é –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏—é.

–ö–æ–Ω—Ç–µ–∫—Å—Ç:
- –í—Ä–µ–º—è —Å—É—Ç–æ–∫: ${timeContext}
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ${mood.label} (${moodDescriptions[mood.id]})
${options.userHistory ? `- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: ${options.userHistory.days} –¥–Ω–µ–π –º–µ–¥–∏—Ç–∞—Ü–∏–π` : ''}

–°–æ–∑–¥–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—É—é, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â—É—é –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.`;
}
```

### –§–∞–∑–∞ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```javascript
// –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º
// –í .env: AI_MODE=production

// –ò–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ:
import { AI_CONFIG } from './services/aiService';
AI_CONFIG.mode = 'production'; // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π LLM
AI_CONFIG.mode = 'mock';       // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∫–∏
```

### –§–∞–∑–∞ 7: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

#### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤

```javascript
// services/cache.js
const cache = new Map();

export function getCachedAffirmation(moodId) {
  return cache.get(moodId);
}

export function setCachedAffirmation(moodId, text) {
  cache.set(moodId, {
    text,
    timestamp: Date.now(),
    expiresIn: 3600000, // 1 —á–∞—Å
  });
}
```

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤

```javascript
// services/rateLimiter.js
let lastRequestTime = 0;
const MIN_INTERVAL = 3000; // 3 —Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

export function canMakeRequest() {
  const now = Date.now();
  if (now - lastRequestTime < MIN_INTERVAL) {
    return false;
  }
  lastRequestTime = now;
  return true;
}
```

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```javascript
async function callLLM(mood, options) {
  try {
    // ... –∫–æ–¥ –≤—ã–∑–æ–≤–∞ API
  } catch (error) {
    if (error.status === 429) {
      // Rate limit exceeded
      console.warn('Rate limit exceeded, using mock');
      return getRandomAffirmation(mood.id, true);
    }

    if (error.status === 401) {
      // Invalid API key
      console.error('Invalid API key');
      throw new Error('AI service not configured');
    }

    // –î—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏ - fallback –Ω–∞ –º–æ–∫
    return getRandomAffirmation(mood.id, true);
  }
}
```

## –°—Ç–æ–∏–º–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### OpenAI GPT-4

- **–¶–µ–Ω–∞:** ~$0.03 –∑–∞ 1K –≤—Ö–æ–¥–Ω—ã—Ö tokens, ~$0.06 –∑–∞ 1K –≤—ã—Ö–æ–¥–Ω—ã—Ö
- **–°—Ä–µ–¥–Ω–∏–π –∑–∞–ø—Ä–æ—Å:** ~150 –≤—Ö–æ–¥–Ω—ã—Ö + 400 –≤—ã—Ö–æ–¥–Ω—ã—Ö tokens = ~$0.03
- **1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–¥–µ–Ω—å:** ~$30/–¥–µ–Ω—å = ~$900/–º–µ—Å—è—Ü

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞—Ç—Ä–∞—Ç:

1. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –•—Ä–∞–Ω–∏—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
2. **GPT-3.5-turbo:** –í 10 —Ä–∞–∑ –¥–µ—à–µ–≤–ª–µ ($0.003/1K tokens)
3. **Batch processing:** –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
4. **Fallback –Ω–∞ –º–æ–∫–∏:** –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

### –≠—Ç–∞–ø 1: MVP (–¢–µ–∫—É—â–∏–π)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∫–∏
- ‚úÖ –û—Ç–ª–∏—á–Ω—ã–π UX
- ‚úÖ –ù—É–ª–µ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å

### –≠—Ç–∞–ø 2: Beta
- –î–æ–±–∞–≤–∏—Ç—å OpenAI GPT-3.5-turbo
- 90% –º–æ–∫–∏ + 10% —Ä–µ–∞–ª—å–Ω—ã–π AI (A/B —Ç–µ—Å—Ç)
- –°–æ–±—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ (–∫–∞—á–µ—Å—Ç–≤–æ, —Å—Ç–æ–∏–º–æ—Å—Ç—å)

### –≠—Ç–∞–ø 3: Production
- Hybrid: –∫–µ—à + GPT-4 –¥–ª—è –Ω–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞—Ç—Ä–∞—Ç
- Graceful fallback –Ω–∞ –º–æ–∫–∏

## –ß–µ–∫–ª–∏—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- [ ] –í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ LLM
- [ ] –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SDK
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
- [ ] –û–±–Ω–æ–≤–∏—Ç—å aiService.js
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ dev
- [ ] –î–æ–±–∞–≤–∏—Ç—å error handling
- [ ] –î–æ–±–∞–≤–∏—Ç—å rate limiting
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ production
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –í–∞–∂–Ω–æ:

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å .env** –≤ git
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –¥–ª—è API –∫–ª—é—á–µ–π
3. **Rate limiting** –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞—Ç—Ä–∞—Ç**

### –î–ª—è production:

```javascript
// –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
function validateMood(mood) {
  const validMoods = ['happy', 'calm', 'stressed'];
  if (!validMoods.includes(mood.id)) {
    throw new Error('Invalid mood');
  }
}

// –î–æ–±–∞–≤–∏—Ç—å sanitization
function sanitizeInput(text) {
  // –£–¥–∞–ª–∏—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
  return text.replace(/[<>]/g, '');
}
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

```javascript
// –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function logAIUsage(mood, responseTime, tokensUsed, cost) {
  analytics.track('ai_affirmation_generated', {
    mood: mood.id,
    responseTime,
    tokensUsed,
    estimatedCost: cost,
    provider: AI_CONFIG.provider,
    model: AI_CONFIG.model,
  });
}
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [OpenAI API Docs](https://platform.openai.com/docs)
- [Claude API Docs](https://docs.anthropic.com/)
- [React Native Env Setup](https://github.com/goatandsheep/react-native-dotenv)

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–º–æ—â–∏

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
2. –û—Ç–∫—Ä–æ–π—Ç–µ issue –≤ GitHub
3. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

**–°—Ç–∞—Ç—É—Å:** üìò –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-02
