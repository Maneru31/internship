# ZenPulse: AI Meditation App

Мобильное приложение для медитаций с AI-генерацией персональных аффирмаций и системой подписок.

## Стек технологий

- **Framework**: React Native + Expo
- **Навигация**: React Navigation (Native Stack)
- **UI**: React Native, Expo Linear Gradient
- **Управление состоянием**: React Context API

## Функциональность

### 1. Экран Paywall (Подписка)
- Премиум дизайн с градиентами и анимациями
- Список из 6 преимуществ Premium-версии
- Два тарифных плана (Месячный и Годовой)
- Визуальное выделение выгодного предложения (Годовая подписка)
- Кнопка "Попробовать бесплатно 7 дней" с имитацией покупки
- Полная адаптивность под разные размеры экранов (от iPhone SE до iPad Pro)

### 2. Экран медитаций (Главный экран)
- 6 медитационных сессий с карточками
- 2 бесплатные медитации
- 4 премиум медитации (заблокированы для неподписанных)
- Логика блокировки: при клике на премиум-контент происходит редирект на Paywall
- Кнопка "AI Настрой дня" для перехода к AI-фиче
- Адаптивная сетка (на планшетах 2 колонки, на телефонах 1 колонка)

### 3. AI Настрой дня
- Выбор настроения из 3 вариантов (Радостный, Спокойный, В стрессе)
- Имитация генерации аффирмации через "API вызов" (2 секунды)
- Уникальные аффирмации для каждого настроения
- Красивая анимация загрузки
- Возможность попробовать снова или вернуться к медитациям

## Как запустить проект

### Предварительные требования
- Node.js (v16 или выше)
- npm или yarn
- Expo Go приложение на мобильном устройстве (опционально)

### Установка

```bash
# Клонировать репозиторий
git clone https://github.com/Maneru31/internship.git

# Перейти в директорию
cd internship

# Установить зависимости
npm install

# Запустить проект
npm start
```

### Запуск на разных платформах

```bash
# Android эмулятор
npm run android

# iOS симулятор (только на macOS)
npm run ios

# Web браузер
npm run web

# Expo Go (сканировать QR код)
npm start
```

## Структура проекта

```
internship/
├── screens/
│   ├── PaywallScreen.js      # Экран подписки
│   ├── MeditationsScreen.js  # Список медитаций
│   └── AIMoodScreen.js        # AI генерация аффирмаций
├── components/
│   ├── MeditationCard.js     # Карточка медитации
│   └── PricingCard.js        # Карточка тарифа
├── context/
│   └── SubscriptionContext.js # Управление подпиской
├── App.js                     # Главный файл с навигацией
└── package.json
```

## Ответ на контрольный вопрос

### "С какими специфическими проблемами мобильной верстки ИИ справляется хуже всего и как ты контролировал его работу, чтобы приложение не сломалось на маленьких экранах (iPhone SE vs Pro Max)?"

#### Проблемы, с которыми AI справляется хуже всего:

1. **SafeArea и отступы для "челки"**
   - AI часто забывает или неправильно применяет SafeAreaView
   - Решение: Явно указывал использовать `SafeAreaView` с параметром `edges={['top', 'bottom']}` и проверял каждый экран

2. **Адаптивные размеры шрифтов и отступов**
   - AI часто использует фиксированные значения без учета размера экрана
   - Решение: Внедрил константу `isTablet` (width > 768) и использовал тернарные операторы для всех размеров:
   ```javascript
   fontSize: isTablet ? 36 : 28
   padding: isTablet ? 32 : 24
   ```

3. **Responsive Grid Layouts**
   - AI не всегда правильно рассчитывает ширину элементов для разных экранов
   - Решение: Использовал `Dimensions.get('window')` для динамического расчета ширины карточек:
   ```javascript
   const CARD_WIDTH = width > 768 ? (width - 60) / 2 : width - 40;
   ```

4. **Переполнение текста (text overflow)**
   - AI не всегда добавляет `numberOfLines` для длинных текстов
   - Решение: Добавил `numberOfLines={2}` для заголовков и `ellipsizeMode="tail"`

5. **ScrollView contentContainerStyle**
   - AI часто путает `style` и `contentContainerStyle` в ScrollView
   - Решение: Строго разделял стили для контейнера и контента

#### Методы контроля качества:

1. **Использование Dimensions API**
   ```javascript
   const { width, height } = Dimensions.get('window');
   const isTablet = width > 768;
   ```

2. **Тестирование на разных разрешениях**
   - Проверка на iPhone SE (375px)
   - Проверка на iPhone Pro Max (428px)
   - Проверка на iPad (768px+)

3. **Консистентные отступы**
   - Создал систему отступов: малые (4-8px), средние (12-16px), большие (20-24px), экстра (32-40px)
   - Адаптировал каждый для планшетов

4. **Проверка всех интерактивных элементов**
   - Минимальный размер кнопок: 44x44px (Apple HIG)
   - Достаточные отступы между элементами для комфортного нажатия

5. **FlexWrap для сеток**
   ```javascript
   flexDirection: 'row',
   flexWrap: 'wrap',
   justifyContent: isTablet ? 'space-between' : 'center'
   ```

#### Специфические решения для данного проекта:

- **Карточки медитаций**: Динамическая ширина и высота изображений
- **Градиенты**: Адаптивные border-radius для разных экранов
- **Текст**: Использование `lineHeight` для улучшения читаемости на разных экранах
- **Кнопки**: Адаптивные размеры с сохранением пропорций

### Заключение

AI отлично справляется с базовой структурой и логикой, но требует тщательного контроля при работе с:
- Адаптивностью под разные разрешения
- SafeArea и системными отступами
- Оптимизацией производительности
- Accessibility (a11y) features

Все эти аспекты требуют ручной проверки и доработки для обеспечения качественного UX на всех устройствах.

## AI Integration

В данном проекте AI используется для генерации персональных аффирмаций на основе настроения пользователя. В текущей версии используется мок-реализация с предварительно написанными текстами, но архитектура позволяет легко интегрировать реальный LLM API (OpenAI, Claude, и т.д.).

### Как интегрировать реальный AI:

Заменить функцию `generateAffirmation` в `screens/AIMoodScreen.js`:

```javascript
const generateAffirmation = async (mood) => {
  setIsGenerating(true);

  const prompt = `Create a personalized meditation affirmation for someone feeling ${mood.label}.
  Make it calming, positive, and about 3-4 sentences long. In Russian language.`;

  const response = await fetch('https://api.openai.com/v1/chat/completions', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${YOUR_API_KEY}`,
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      model: 'gpt-4',
      messages: [{ role: 'user', content: prompt }],
    }),
  });

  const data = await response.json();
  setAffirmation(data.choices[0].message.content);
  setIsGenerating(false);
};
```

## Лицензия

MIT

## Автор

Создано как тестовое задание для стажировки
